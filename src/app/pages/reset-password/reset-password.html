<div class="min-h-screen flex">
  <div class="hidden md:flex w-1/2 relative" style="background-image: url('https://thearrivalstore.com/wp-content/uploads/2016/10/iStock_74131929_LARGE.jpg'); background-size: cover; background-position: center; background-repeat: no-repeat;">
  </div>

  <div class="w-full md:w-1/2 flex items-center justify-center bg-gray-50 p-8">
    <div class="w-full max-w-md">
      <!-- Logo -->
      <div class="text-center mb-2">
        <div class="flex items-center justify-center mb-4">
          <img src="images/decola-trips-logo.png" alt="Decola Trips Logo" class="h-24 w-auto">
        </div>
      </div>

      <!-- loading enquanto valida o token -->
      <div *ngIf="isLoading && !tokenValid" class="text-center">
        <h2 class="text-center text-xl font-semibold text-gray-700 mb-8">
          Validando token...
        </h2>
        <div class="animate-spin rounded-full h-8 w-8 border-b-2 border-orange-600 mx-auto"></div>
      </div>

      <!-- error -->
      <div *ngIf="errorMessage" class="bg-red-50 border border-red-200 rounded-lg p-5 mb-5">
        <h2 class="text-center text-xl font-semibold text-red-600 mb-4">
          Erro na Recuperação
        </h2>
        <p class="text-red-600 mb-6 text-center">{{ errorMessage }}</p>
        <button 
          (click)="onBackToLogin()"
          class="w-full bg-orange-600 text-white py-3 px-4 rounded-lg hover:bg-orange-700 transition-colors">
          Voltar ao Login
        </button>
      </div>

      <!-- Valid token - show form -->
      <div *ngIf="tokenValid && !errorMessage">
        <h2 class="text-center text-xl font-semibold text-gray-700 mb-8">
          Redefinir Senha
        </h2>

        <!-- Instruções -->
        <p class="text-center text-sm text-gray-600 mb-6">
          Digite sua nova senha abaixo. Certifique-se de que seja segura e fácil de lembrar.
        </p>

        <app-reset-password-form
          [isLoading]="isLoading"
          (submitForm)="onSubmitForm($event)">
        </app-reset-password-form>

        <p class="mt-8 text-center text-sm text-gray-600">
          Lembrou da sua senha?
          <a routerLink="/login" class="font-semibold text-orange-600 hover:text-orange-500 ml-1">
            Fazer login
          </a>
        </p>
      </div>
    </div>
  </div>
</div>
